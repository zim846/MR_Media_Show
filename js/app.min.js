function animateVideoPopup(a, b) {
    b = b || 0, TweenMax.fromTo(a, _duration, {y: "200%", scale: 2.2}, {
        y: "0%",
        scale: 1,
        ease: Power2.easeOut,
        delay: b
    }), TweenMax.staggerFromTo(a.find(".content").children(), _duration, {y: "150%"}, {
        y: "0%",
        ease: Power2.easeOut,
        delay: b
    }, .4)
}

function hideLoader(a) {
    void 0 !== a && void 0 !== a.beforeHide && a.beforeShow.call(), TweenMax.to($loader, .8, {
        alpha: 0,
        scale: 1.6,
        display: "none",
        ease: Power2.easeInOut,
        onComplete: function () {
            void 0 !== a && void 0 !== a.afterHide && a.afterHide.call()
        }
    })
}

function showLoader(a) {
    void 0 !== a && void 0 !== a.beforeShow && a.beforeShow.call(), TweenMax.fromTo($loader, _duration / 2, {scale: 1}, {
        alpha: 1,
        display: "block",
        ease: Power2.easeInOut,
        onComplete: function () {
            void 0 !== a && void 0 !== a.afterShow && a.afterShow.call()
        }
    })
}

function loadPage(a) {
    function b() {
        $.get(c, function (b) {
            var c = $(b), d = c.attr("id"), e = c.data("menu-invert");
            $mainContainer.empty().append(b), mainMenu.switchNavigationGroup(d, e), a.execute(hideLoader)
        })
    }

    var c = a.view;
    mainMenu.isOpen() && mainMenu.closeMenu(), isFirstLoad ? (isFirstLoad = !1, b()) : showLoader({afterShow: b})
}

function parseHash(a, b) {
    crossroads.parse(a)
}

!function (a, b, c) {
    "use strict";
    a.fn.menu = function (b) {
        function d(a) {
            window.console && window.console.log && g.debug && window.console.log(f + ": " + a)
        }

        function e() {
            k.on("click", function (a) {
                a.preventDefault(), n ? v() : u()
            }), d("toggle button click registration"), j.on("click", "a", function (b) {
                b.preventDefault();
                var c = a(this), e = a(b.delegateTarget), f = e.data("page-id"), i = c.attr("href").replace("#", "");
                c.hasClass("active") || (g.activeOnClick && y(c.attr("href")), g.onNavigationClick(i, f), h.trigger("navigationclick", [i, f]), d("menu nav item clicked -> target: " + i + " group: " + f))
            }), d("navigation groups button click registration")
        }

        var f = "jquery.menu", g = a.extend({
                navigationDuration: .4,
                menuDuration: 1.2,
                stagger: .15,
                easing: Power2,
                debug: !1,
                activeOnClick: !0,
                onNavigationClick: function (a, b) {
                }
            }, b), h = (a(window), a(this)), i = h.find(".navigation"), j = i.find(".group"), k = h.find(".toggle-button"),
            l = h.find(".main-menu"), m = !0, n = !1, o = !1, p = function (a) {
                if (m) {
                    var b = j.filter(".active"), e = b.find("li");
                    m = !1, c.set(e, {alpha: 1, y: "0%"}), c.staggerTo(e, g.navigationDuration, {
                        alpha: 0,
                        y: "-50%",
                        ease: g.easing.easeIn,
                        onStart: function () {
                            a && a.onStart && a.onStart.call()
                        }
                    }, g.stagger, function () {
                        i.hide(), a && a.onComplete && a.onComplete.call()
                    }), d("hide active navigation group")
                }
            }, q = function (a) {
                if (!m) {
                    var b = j.filter(".active"), e = b.find("li");
                    m = !0, c.set(e, {alpha: 0, y: "-50%"}), c.staggerTo(e, g.navigationDuration, {
                        alpha: 1,
                        y: "0%",
                        ease: g.easing.easeOut,
                        onStart: function () {
                            i.show(), a && a.onStart && a.onStart.call()
                        }
                    }, g.stagger, function () {
                        a && a.onComplete && a.onComplete.call()
                    }), d("show active navigation group")
                }
            }, r = function (a, b) {
                function c(a) {
                    j.filter(".active").removeClass("active"), j.filter("[data-page-id=" + a + "]").addClass("active").find("a").removeClass("active").eq(0).addClass("active"), b ? w() : x(), q()
                }

                !m || n ? c(a) : p({
                    onComplete: function () {
                        c(a)
                    }
                })
            }, s = function (a) {
                c.to(h, g.menuDuration / 2, {
                    alpha: 0,
                    top: -h.height(),
                    display: "none",
                    delay: void 0 !== a ? a : 0,
                    ease: g.easing.easeInOut
                })
            }, t = function (a) {
                c.to(h, g.menuDuration / 2, {
                    alpha: 1,
                    top: "0",
                    display: "block",
                    delay: void 0 !== a ? a : 0,
                    ease: g.easing.easeInOut
                })
            }, u = function () {
                var a = l.find("li");
                n || (n = !0, k.addClass("toggle"), p(), c.set(l, {css: {display: "block", alpha: 0}}), c.set(a, {
                    alpha: 1,
                    scale: 1
                }), c.to(l, g.menuDuration / 2, {
                    alpha: 1,
                    delay: g.menuDuration / 4,
                    ease: g.easing.easeIn,
                    onComplete: function () {
                        o && h.removeClass("invert")
                    }
                }), c.staggerFrom(a, g.menuDuration / 2, {
                    alpha: 0,
                    scale: 1.2,
                    delay: g.menuDuration / 2,
                    ease: g.easing.easeInOut
                }, g.stagger), d("menu opening"))
            }, v = function () {
                var a = l.find("li");
                n && (n = !1, k.removeClass("toggle"), c.staggerTo(a, g.menuDuration / 2, {
                    alpha: 0,
                    scale: .8,
                    ease: g.easing.easeInOut
                }, g.stagger), c.to(l, g.menuDuration / 2, {
                    alpha: 0,
                    delay: g.menuDuration / 2,
                    display: "none",
                    ease: g.easing.easeIn,
                    onStart: function () {
                        o && h.addClass("invert")
                    },
                    onComplete: function () {
                        q()
                    }
                }), d("menu closing"))
            }, w = function () {
                o = !0, h.addClass("invert")
            }, x = function () {
                o = !1, h.removeClass("invert")
            }, y = function (a) {
                var b = j.find("a"), c = b.filter(".active");
                c.attr("href") !== a && (c.removeClass("active"), b.filter("[href=" + a + "]").addClass("active"))
            }, z = function () {
                return n
            }, A = function () {
                return m
            }, B = function (a, b) {
                h.on(a, b)
            }, C = function (a, b) {
                h.one(a, b)
            }, D = function (a) {
                h.off(a)
            };
        return e(), {
            target: this,
            hideNavigation: p,
            showNavigation: q,
            switchNavigationGroup: r,
            openMenu: u,
            closeMenu: v,
            isOpen: z,
            isNavigationOpen: A,
            invertColors: w,
            resetColors: x,
            setActive: y,
            hide: s,
            show: t,
            on: B,
            one: C,
            off: D
        }
    }
}($, Modernizr, TweenMax);
var $document = $(document), $window = $(window), $loader = $(".loader"), $mainContainer = $(".main-container"),
    _duration = 1.2, _splitterDuration = .8, _debug = !1,
    mainMenu = $("header").menu({debug: _debug, activeOnClick: !1}), controllers = {
        homepage: homepageController(mainMenu),
        feedapp: feedappController(mainMenu),
        team: teamController(mainMenu),
        schedule: scheduleController(mainMenu),
        prototype: prototypeController(mainMenu)
    };
FastClick.attach(document.body), $document.on("ready", function () {
    outdatedBrowser({
        bgColor: "#f25648",
        color: "#ffffff",
        lowerThan: "transform",
        languagePath: "vendor/outdated-browser/outdatedbrowser/lang/en.html"
    })
});
var isFirstLoad = !0;
crossroads.addRoute("/", function () {
    loadPage(controllers.homepage)
}), crossroads.addRoute("feed-app", function () {
    loadPage(controllers.feedapp)
}), crossroads.addRoute("meet-team", function () {
    loadPage(controllers.team)
}), crossroads.addRoute("schedule-meeting", function () {
    loadPage(controllers.schedule)
}), crossroads.addRoute("see-live-prototype", function () {
    loadPage(controllers.prototype)
}), hasher.initialized.add(parseHash), hasher.changed.add(parseHash), hasher.init();